<p-progressBar class="progress" styleClass="progressBar"
  [color]="'linear-gradient(90deg,rgba(241, 251, 252, 1) 0%,rgba(27, 135, 147, 1) 50%,rgba(46, 60, 102, 1) 100%)'"
  [value]="progressBarValue"></p-progressBar>
<div class="wrapper">
  <div class="box">
    <div class="titre">{{ "RESET_PASSWORD_FEATURES.SET_RESET_PASSWORD.TITLE" | translate}}</div>
    <div class="text">
      {{ "RESET_PASSWORD_FEATURES.SET_RESET_PASSWORD.WARNING_MSG" | translate}}
    </div>
    <form [formGroup]="setPasswordForm" (ngSubmit)="onSubmit()">
      <div class="password">

        <label class="label">{{ "RESET_PASSWORD_FEATURES.SET_RESET_PASSWORD.ENTER_NEW_PWD" | translate}}</label>
        <p-password styleClass="customInputPassword" [(ngModel)]="password" [toggleMask]="true" [feedback]="false"
          formControlName="password"></p-password>

        <div *ngIf="setPasswordForm.controls.password.touched && setPasswordForm.controls.password.invalid">

          <small class="p-error" *ngIf="setPasswordForm.controls.password?.errors?.required">
            <p class="text-error">{{ "SHARED.ERRORS.EMAIL_REQUIRED" | translate}}</p>
          </small>

          <small class="p-error" *ngIf="setPasswordForm.controls.password?.errors?.['minlength']">
            <p class="text-error">{{ "SHARED.ERRORS.PASSWORD_LENGTH_ERR" | translate}}</p>
          </small>

        </div>


        <label class="label">{{ "RESET_PASSWORD_FEATURES.SET_RESET_PASSWORD.CONFIRM_NEW_PWD" | translate}}</label>
        <p-password styleClass="customInputPassword inputContainer" formControlName="confirmPassword"
          [toggleMask]="true" [feedback]="false"></p-password>

        <div *ngIf="setPasswordForm.controls.confirmPassword.touched && setPasswordForm.controls.confirmPassword.invalid">
          <small class="p-error" *ngIf="setPasswordForm.controls.confirmPassword?.errors?.required">
            <p class="text-error">{{ "SHARED.ERRORS.CONFIRM_PASSWORD_REQUIRED" | translate}}</p>
          </small>

          <small class="p-error" *ngIf="setPasswordForm.controls.confirmPassword?.errors?.['minlength']">
            <p class="text-error">{{ "SHARED.ERRORS.CONFIRM_PASSWORD_LENGTH_ERR" | translate}}</p>
          </small>

          <small class="p-error"
            *ngIf="setPasswordForm.controls.confirmPassword.touched && setPasswordForm?.controls?.confirmPassword?.errors?.confirmedValidator">
            <p class="text-error">{{ "SHARED.ERRORS.PASSWORD_MATCH_ERR" | translate}}</p>
          </small>

        </div>


      </div>

      <button class="btn" [disabled]="setPasswordForm.controls.invalid || setPasswordForm.controls.confirmPassword.errors?.confirmedValidator" type="submit"> {{ "RESET_PASSWORD_FEATURES.SET_RESET_PASSWORD.RESET_BUTTON" | translate}}</button>
    </form>
    <div class="seConnecter" >
      <i class="fa-solid fa-caret-left"></i>
      <span (click)="goSignin()" style="cursor: pointer;">{{ "RESET_PASSWORD_FEATURES.SET_RESET_PASSWORD.CONNECT_BUTTON" | translate}}</span>
    </div>
  </div>
</div>